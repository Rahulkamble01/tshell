<div class="container">
  <div class="row mb-0 pt-0 pb-0">
    <div class="col-lg-1 col-md-1 col-sm-12 col-12"></div>
    <div class="col-lg-11 col-md-11 col-sm-12 col-12">
      <p class="mb-0">Navigation: <a [routerLink]="[ '/' ]">home</a> > <a [routerLink]="[ '/skills' ]">Search Skill</a></p>
    </div>
  </div>
  <div class="row mt-0 pt-0">
    <div class="col-lg-2 col-md-2 col-12"></div>
    <div class="col-lg-8 col-md-8 col-sm-12 col-12">
      <div class="text-center mb-0 mt-3">
        <div class="itwillflex">
          <ng-template #rt let-r="result" let-t="term">
            <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
          </ng-template>
          <input id="typeahead-template" type="text" class="form-control" [(ngModel)]="model" [ngbTypeahead]="search"
            [resultTemplate]="rt" [inputFormatter]="formatter" (selectItem)="itemSelected($event)" />
        </div>
      </div>
      <ng-container *ngIf="skills.length != 0; else searchNotFoundTemplate">
        <p class="row search-heading text-center mb-0 mt-1 pl-3">Found Result for &nbsp; <span> "{{name}}"</span></p>
      </ng-container>
      <ng-template #searchNotFoundTemplate>
        <p class="row search-heading text-center mb-0 mt-1 pl-3"></p>
      </ng-template>

    </div>
    <div class="col-lg-2 col-md-2 col-12 col-sm-12">
      <button type="button" class="btn btn-ts-primary btn-lg fa fa-plus mt-3 col-12  fa-addskilll" (click)="addSkillModel()">
        Skill</button>
    </div>
  </div>
</div>


<div class="container mb-3">
  <div class="row">
    <!---------------------------------->
    <div class="col-lg-6 col-md-6 col-12 col-sm-12">
      <div class="card text-white bg-primary mb-1 mr-0 ml-0 pl-0 pr-0">
        <div class="card-header text-center">Skills</div>
      </div>
      <div *ngIf="skills.length != 0">
        <div class="card mb-1">
          <div class="card-header ">
            <div class="row">
              <div class="col-lg-3 col-md-4">
                <h4> <span [routerLink]="[ '/skillpage', skills ]" style="cursor: pointer;"> {{skills.name}} </span></h4>
              </div>
              <div class="col-lg-9 col-md-8">
                <ng-container *ngIf="skills.active; then thenTemplate; else elseTemplate">
                </ng-container>
                <ng-template #thenTemplate>
                  <input type="button" value="Deativate" class="btn btn-ts-primary btn-ts-sm " (click)="toggllingSkill(skills)" />&nbsp;&nbsp;
                  <i class="float-right fas fa-edit skilledit" (click)="editSkillModel(skills)"></i>
                  <!-- <input type="button" class="btn-ts-primary float-right fas fa-edit" (click)="editSkillModel(skills)"> -->
                </ng-template>
                <ng-template #elseTemplate>
                  <input type="button" value="Activate" class="btn btn-ts-cancel btn-ts-sm " (click)="toggllingSkill(skills)">
                  <i class="float-right fas fa-edit skilledit" (click)="editSkillModel(skills)" disabled></i>
                </ng-template>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-lg-3 col-md-3">
                <img [routerLink]="[ '/skillpage', skills ]" style="cursor: pointer;" src="../../assets/images/HTML.png"
                  height="50px" width="50px">
              </div>
              <div class="col-lg-9 col-md-9">
                <div class="row">
                  <div class="col-lg-12 col-md-12">
                    <p class="card-text mb-0 pb-0">{{skills.description}}</p>
                    <p class="card-text mb-0 pb-0 mt-0 pt-0">Additional features</p>
                    <br>
                    <p class="d-inline-flex mb-0 pb-0 mt-0 pt-0"><b>Topics: </b></p>&nbsp;&nbsp;
                    <div class="d-inline-flex" *ngFor="let item of skills.topics">
                      <p class="card-text mb-2 pb-0 mt-0 pt-0">{{item.name}},</p>&nbsp;&nbsp;
                    </div>
                    <br>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-12 col-md-12">
                    <a href="#" [routerLink]="[ '/skillpage', skills ]" class="btn btn-ts-primary btn-ts-sm" style="float:left"><i
                        class="fas fa-book-open"></i>
                    </a>
                    <a href="#" [routerLink]="[ '/instruction' ]" class="btn btn-ts-primary btn-ts-sm" style="float:right"><i
                        class="fas fa-pen-nib"></i>Take test
                    </a>

                    <!-- <button type="button" class="btn btn-primary btn-lg fa fa-plus mt-3 col-12   fa-addskilll" data-toggle="modal"
        data-target="#addskillmodal"> Skill</button> -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="card-footer text-muted">
        </div> -->
        </div>
        <div class="container-fluid mb-4 mt-0 pl-0 pr-0">
          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card card-header card-header-success text-center">
                  <h4 class="text-capitalize">top 5 performers</h4>
                </div>
                <div class="card-body">
                  <div class="barWrapper" *ngFor="let p of toppers">
                    <span class="progressText">
                      <B>{{p.user.name}}</B>
                    </span>
                    <div class="progress">
                      <div class="progress-bar" role="progressbar" aria-valuenow="p.score" aria-valuemin="10"
                        aria-valuemax="100" [ngStyle]="{'width': p.score+'%'}">
                        {{p.score}}%
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
    <div class="col-lg-6 col-md-6 col-12 col-sm-12 graphpart " id="graphID">
      <svg width="960" height="700"></svg>
    </div>
    <!----------------------------------->
  </div>
</div>
























<!-- Modal -->
<!-- <div class="modal fade" id="addskillmodal" style="padding-top: 2cm" role="dialog" #addskillmodal>
  <div class="modal-dialog modal-lg">
    <form [formGroup]="addskillform"> -->
<!-- Modal content-->
<!-- <div class="modal-content">
        <div class="modal-header">
          <h4>
            Add Skill
          </h4>
          <hr>
          <button type="button" class="close" data-dismiss="modal"> <i class="fa fa-times"></i></button>
        </div>
        <div class="modal-body">

          <div class="container "> -->

<!-- starting of a row -->
<!-- <div class="row">
              <div class="col-lg-4"> Name </div>
              <div class="col-lg-5"> </div>
              <div class="col-lg-1"></div>
              <div class="col-lg-2"></div>
            </div>  -->
<!-- ending of a row -->


<!-- starting of a row -->
<!-- <div class="row">

              <div class="col-lg-12">

                <input type="text" class="form-control" formControlName="skillName" placeholder="Enter a Name"
                  #skillName>
                <div *ngIf="addskillform.get('skillName').touched && addskillform.get('skillName').invalid">
                  <div *ngIf="addskillform.get('skillName').errors.required" class="aletry">* Skill Name is required</div>
                  <div *ngIf="addskillform.get('skillName').errors.minlength" class="aletry"> Skill Name must be
                    minimum 2
                    characters</div>
                  <div *ngIf="addskillform.get('skillName').errors.maxlength" class="aletry"> Skill Name must be
                    maximun 25
                    characters</div>
                  <div *ngIf="addskillform.get('skillName').errors.pattern" class="aletry"> Skill Name must not
                    contain special charecters
                  </div>
                </div>
              </div>

            </div>  -->
<!-- ending of a row -->

<!-- <br> -->
<!-- starting of a row -->
<!-- <div class="row">
              <div class="col-lg-12"> Add Topics </div>
            </div>  -->
<!-- ending of a row -->


<!-- 
            <div class="row ">

              <div class="col-lg-12 col-12 col-sm-12 col-md-12 buttonInside ">
                <span class="itwillflex">
                  <input type="text" class="form-control topicinput" formControlName="topicName" #topicname placeholder="Enter sub-topic and click + to add it">
                  <button id="erase" [disabled]="!topicName.valid" (click)="addTopic(topicname.value)" class=" btn btn-info btn-sm fa fa-plus"></button>
                </span>

                <div *ngIf="addskillform.get('topicName').touched && addskillform.get('topicName').invalid">

                  <div *ngIf="addskillform.get('topicName').errors.maxlength" class="aletry"> Topic Name must be
                    maximun 60
                    characters</div>
                  <div *ngIf="addskillform.get('topicName').errors.pattern" class="aletry"> Topic Name must not
                    contain numbers and special charecters
                  </div>

                </div>


              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">

                <ul *ngFor="let topic of topics" class="list-inline marginzero" style="display:inline-block">
                  <li class="badge badge-primary litopic">{{topic.name}} &nbsp; <i class="fa fa-times makepointer"
                      (click)="removeTopic(topic)"></i></li>
                </ul>

              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary makecross" [disabled]="!addskillform.valid" (click)="submitSkill(skillName.value);">Save
            Skill</button>
        </div>

      </div>
    </form>
  </div>
</div> -->
