<div class="container">
  <div class="row mb-0 pt-0 pb-0">
    <div class="col-lg-1 col-md-1 col-sm-12 col-xs-12"></div>
  </div>
  <div class="row mt-0 pt-0">
    <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12"></div>
    <div class="col-lg-8 col-md-8 col-sm-12 col-xs12">
      <div class="text-center mb-0 mt-3">
        <div class="itwillflex">
          <ng-template #rt let-r="result" let-t="term">
            <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
          </ng-template>
          <input id="typeahead-template" type="text" class="form-control" #instance="ngbTypeahead" [(ngModel)]="model"
            [ngbTypeahead]="search" placeholder="Search Skills" [resultTemplate]="rt" [inputFormatter]="formatter"
            (selectItem)="itemSelected($event)" (focus)="focus$.next($event.target.value)" />
        </div>
      </div>
      <ng-container *ngIf="skills.length != 0; else searchNotFoundTemplate">
        <p class="row search-heading text-center mb-0 mt-1 pl-3">Found Result for &nbsp; <span> "{{name}}"</span></p>
      </ng-container>
      <ng-template #searchNotFoundTemplate>
        <p class="row search-heading text-center mb-0 mt-1 pl-3"></p>
      </ng-template>

    </div>
    <!-- *ngIf="userRole != 0" -->
    <div class="col-lg-2 col-md-2 col-xs-12 col-sm-12">
      <button type="button" class="btn btn-ts-primary mt-3 col-12  fa-addskilll" (click)="addSkillModel()" style="margin-bottom:40px"><span
          class=" fa fa-plus"></span>
        Add Skill</button>
    </div>
  </div>
</div>
<ng-container *ngIf="skills.length < 1; else elseTemplate">

</ng-container>
<ng-template #elseTemplate>
  <div class="container-fluid mt-3 mb-3">
    <div class="row" style="margin-top:15px;">
      <div class="col-lg-1 col-12 col-sm-1 col-md-1">

      </div>
      <div class="col-lg-10 col-12 col-sm-10 col-md-10">
        <div class="row">
          <div class="col-lg-2 col-sm-2 col-12 col-md-2" style="padding:5px;">
            <div class="row">
              <div class="col-lg-12 col-md-1 col-sm-1 col-2"></div>
              <div class="col-lg-12 col-md-10 col-sm-10 col-8">

                <div class="avatar-upload">
                  <form #imageForm=ngForm>
                    <div class="avatar-edit">
                      <input type="file" id="imageUpload"  #Image accept="image/*"  (change)="handleFileInput($event.target.files)">

                      <label for="imageUpload"></label>
                    </div>
                    <div class="avatar-preview">
                      <img src="./../assets/images/default-skill.png" id="imagePreview" style="border-radius:50%;height:100%;width:100%;"
                        height="450" />
                    </div>
                  </form>
                </div>

              </div>
              <div class="col-lg-12 col-md-1 col-sm-1 col-2"></div>
            </div>

          </div>
          <!-- <div class="col-lg-1 col-sm-0 col-md-1 co  l-xs-0"></div> -->
          <div class="col-lg-9 col-sm-10 col-xs-12 col-md-9" style="padding:10px;">
            <div class="row" class="ml-12 mr-12">
              <span style="font-size:35px; font-weight: bold;">
                {{skills.name}}
                <ng-container *ngIf="skills.active == 'active'; else elseTemplate">
                  <h5 class="d-inline"><span value="Activated" class="badge badge-success" (click)="toggllingSkill(skills)"
                      style="cursor: pointer;">Active</span></h5>
                </ng-container>
                <ng-template #elseTemplate>
                  <h5><span value="Deactivated" class="badge badge-danger" (click)="toggllingSkill(skills)" style="margin-top: 19px; cursor: pointer;">Inactive</span></h5>
                </ng-template>
                &nbsp;<span class="d-inline" style="font-size:31px; color:grey;"><i class="far fa-edit" style=" margin-top: 19px; cursor: pointer; font-size: 25px"
                    (click)="editSkillModel(skills)"></i></span>
              </span>
              <span style="color:darkslateblue; line-height: 1.07">
                <br>{{skills.description}}
              </span>
            </div>
            <br>
            <h5 class="d-inline"><span class="badge badge-secondary viewskills" *ngFor="let item of skills.topics">{{item.name}}</span>
            </h5>&nbsp;
            <i class="d-inline fas fa-plus-square" style="font-size: 1.5rem; color: rgb(19, 114, 158)" (click)="editSkillModel(skills)"></i>
          </div>
        </div>
      </div>
      <div class="col-lg-1 col-12 col-sm-1 col-md-1">
      </div>
    </div>
    <div class="row" style="margin-top:15px;">
      <div class="col-lg-1 col-sm-12">
      </div>
      <div class="col-lg-10 col-sm-12">
        <!--  <h3>Reference Skills</h3>
        <hr>
        <div class="container" style="margin-top:4%;margin-bottom: 1%;">
          <div class="card-group">
            <div class="card bg-white ts-card">
              <div class="card-body text-center">
                <p class="card-text">Dependent Skills <span> <i class="fas fa-plus" (click)="editRef(referenceSkill)" style="font-size: 20px;color:mediumaquamarine;cursor: pointer;"></i></span></p>
                <hr>
                <div *ngFor="let item of referenceSkill">
                  <h5 *ngIf="item.classifier == 'pre'" class="mb-0"><span class="badge badge-secondary">{{item.referenceSkill.name}}
                      </span>
                    <i class="fas fa-arrow-down" style="margin: 0px 12px 0px 8px;font-size: 15px;"></i></h5>
                </div>
                <hr>
              </div>
            </div>
            <i class="fas fa-arrow-circle-right" style="margin: 120px 0px 0px 30px;font-size: 40px;"></i>
            <div class="card bg-white ts-card ts-card1" style="margin-left:5%;">
              <div class="card-body text-center" style="font-size:20px;font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">
                {{skills.name}}
              </div>
            </div>
            <i class="fas fa-arrow-circle-right" style="margin: 120px 0px 0px 30px;font-size: 40px;"></i>
            <div class="card bg-white ts-card" style="margin-left:5%;">
              <div class="card-body text-center">
                <p class="card-text"></p>
                <i class="fas fa-plus" style="margin: 0px 0px 0px 130px;font-size: 20px;color:mediumturquoise;cursor: pointer;"></i>
                <div *ngFor="let item of referenceSkill">
                  <h4 *ngIf="item.classifier == 'post'"><span class="badge badge-secondary">{{item.referenceSkill.name}}
                      <i class="fas fa-times" style="cursor: pointer;color: lightgrey;"></i></span></h4>
                </div>
              </div>
            </div>
          </div>
        </div> -->


        <!------------------------------------------Reference Skills-------------------------------------------------------------->

        <h3>Reference Skills</h3>
        <hr>
        <div class="container">
          <div class="row">
            <div class="col-lg-3 col-sm-12">
              <div class="card-group">
                <div class="card bg-white ts-card">
                  <div class="card-body text-center">
                    <h6>Dependent Skills <span> <i class="fas fa-plus-square plus"></i></span></h6>
                    <hr>
                    <div *ngFor="let item of referenceSkill">
                      <h6 *ngIf="item.classifier == 'pre'" class="d-inline"><span class="badge badge-info d-inline">{{item.referenceSkill.name}}
                          <i class="fas fa-times cross d-inline"></i></span>
                        <i class="fas fa-arrow-right arr1"></i></h6>
                    </div>

                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-1 bigScreen"> <i class="fas fa-arrow-right arr2"></i></div>
            <div class="col-lg-1 smallScreen center1"> <i class="fas fa-arrow-down"></i></div>
            <div class="col-lg-3 col-sm-12">

              <div class="card bg-white ts-card bigScreen m1">
                <div class="card-body text-center f1">
                  {{skills.name}}
                </div>
              </div>

              <div class="card bg-white ts-card smallScreen m1">
                <div class="card-body text-center f1">
                  {{skills.name}}
                </div>
              </div>

            </div>

            <div class="col-lg-1 bigScreen"> <i class="fas fa-arrow-right arr2"></i></div>
            <div class="col-lg-1 smallScreen center2"> <i class="fas fa-arrow-down"></i></div>

            <div class="col-lg-4 col-sm-12">

              <div class="card bg-white ts-card bigScreen">
                <div class="card-body text-center">
                  <h6>Additional Skills <span> <i class="fas fa-plus-square plus"></i></span></h6>
                  <hr>
                  <div *ngFor="let item of referenceSkill">
                    <h5 *ngIf="item.classifier == 'post'"><span class="badge badge-info">{{skill.referenceSkill.name}} <i class="fas fa-times cross"></i></span></h5>
                  </div>
                </div>
              </div>

              <div class="card bg-white ts-card smallScreen m1">
                <div class="card-body text-center">
                  <h6>Additional Skills <span> <i class="fas fa-plus-square plus"></i></span></h6>
                  <hr>
                  <div *ngFor="let item of referenceSkill">
                    <h5 *ngIf="item.classifier == 'post'"><span class="badge badge-info">{{skill.referenceSkill.name}} <i class="fas fa-times cross"></i></span></h5>
                  </div>
                </div>
              </div>


            </div>
          </div>
        </div>

        <!---------------------------------------------------------------------------------------------------------------------->



        <div class="row" style="padding-bottom:15px;">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-12" style="margin-top:20px;">

            <div class="ts-card card" style="height:100%;">
              <div class="card-body">
                <h2>Top Performers</h2>
                <hr>
                <div class="row" *ngFor="let p of toppers">
                  <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
                    <span class="badge float-left" style="font-weight:400;font-size:16px;background-color:blue;color:white;opacity:0.7;">
                      <b>{{p.user.name}}</b>
                    </span>
                    <span class="testdate float-right">8 Dec 2018</span>
                  </div>
                  <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">
                    <div class="progress">
                      <div class="progress-bar" role="progressbar" aria-valuenow="p.score" aria-valuemin="10"
                        aria-valuemax="100" [ngStyle]="{'width': p.score+'%'}">
                        {{p.score}}%
                      </div>
                    </div>
                  </div>
                  <hr>
                </div>
                <div class="float-right">
                  <h6 class="d-inline">Put Your Name Here</h6>&nbsp;<span>
                    <a href="#" [routerLink]="['/instruction', skills.id, skills.name ]" class="badge badge-primary"><i
                        class="fas fa-pen-nib"></i>Take
                      test
                    </a>
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-1 col-sm-12">

      </div>
    </div>

  </div>
</ng-template>


<!-- 
<div class="container mt-3 mb-3">
    <div *ngIf="skills.length != 0">
      <div class="row">
        <div class="col-lg-12 col-md-12 col-12 col-sm-12 card mb-1">
          <div class="card-header" style="background-image: linear-gradient(to right, skyblue, azure)">
            <div class="row">
              <div class="col-lg-2 col-md-3">
                <h4 class="fontBlack"> {{skills.name}} </h4>
              </div>
              <div class="col-lg-10 col-md-9" *ngIf="userRole != 0">
                <ng-container *ngIf="skills.active; then thenTemplate; else elseTemplate">
                </ng-container>
                <ng-template #thenTemplate>
                  <input type="button" value="Deativate" class="btn btn-ts-primary btn-ts-sm " (click)="toggllingSkill(skills)" />&nbsp;&nbsp;
                  <i class="float-right fas fa-edit skilledit" (click)="editSkillModel(skills)"></i>
  
                </ng-template>
                <ng-template #elseTemplate>
                  <input type="button" value="Activate" class="btn btn-ts-cancel btn-ts-sm " (click)="toggllingSkill(skills)">
                  <i class="float-right fas fa-edit skilledit" (click)="editSkillModel(skills)" disabled></i>
                </ng-template>
              </div>
            </div>
          </div>
  
          <div class="card-body">
  
            <div class="row">
              <div class="col-lg-2 col-md-3">
                <img style="cursor: pointer;" src="../../assets/images/skill.png" height="50px" width="50px">
              </div>
  
              <div class="col-lg-6 col-md-9">
                <div class="row">
                  <div class="col-lg-12 col-md-12">
                    <p class="card-text mb-0 pb-0">{{skills.description}}</p>
                    <br>
                    <p class="d-inline-flex mb-0 pb-0 mt-0 pt-0"><b>Topics: </b></p>&nbsp;&nbsp;
                    <div class="d-inline-flex" *ngFor="let item of skills.topics">
                      <p class="card-text mb-2 pb-0 mt-0 pt-0">{{item.name}},</p>&nbsp;&nbsp;
                    </div>
                    <br>
                  </div>
                </div>
              </div>
  
              <div class="col-lg-4 mt-3 mb-3">
                <div class="card card-header card-header-success text-center">
                  <h4 class="text-capitalize fontBlack">top 5 performers</h4>
                </div>
                <div class="card-body">
                  <div class="barWrapper" *ngFor="let p of toppers">
                    <span class="progressText">
                      <B>{{p.user.name}}</B>
                    </span>
                    <div class="progress">
                      <div class="progress-bar" role="progressbar" aria-valuenow="p.score" aria-valuemin="10"
                        aria-valuemax="100" [ngStyle]="{'width': p.score+'%'}">
                        {{p.score}}%
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
  
            <div class="row">
              <div class="col-lg-12 col-md-12">
                <ng-container *ngIf="!userLoggedInn; else elseTemplate">
                  <a href="#" [routerLink]="[ '/login' ]" class="btn btn-ts-primary btn-ts-lg"><i class="fas fa-pen-nib"></i>Take
                    test
                  </a>
                </ng-container>
                <ng-template #elseTemplate>
                  <a href="#" [routerLink]="[ '/assesment' ]" class="btn btn-ts-primary btn-ts-lg"><i class="fas fa-pen-nib"></i>Take
                    test
                  </a>
                </ng-template>
  
              </div>
            </div>
  
          </div>
  
        </div>
  
      </div>
    </div>
  </div> -->